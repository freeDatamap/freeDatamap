function xml2json(a,b,c){var d=function(a){var b=null;if(window.DOMParser)try{b=(new DOMParser).parseFromString(a,"text/xml")}catch(c){b=null}else if(window.ActiveXObject)try{b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a)||window.alert(b.parseError.reason+b.parseError.srcText)}catch(c){b=null}else alert("cannot parse xml string!");return b};a=d(a);var e={toObj:function(a){var b={};if(1==a.nodeType){if(a.attributes.length)for(var c=0;c<a.attributes.length;c++)b["@"+a.attributes[c].nodeName]=(a.attributes[c].nodeValue||"").toString();if(a.firstChild){for(var d=0,f=0,g=!1,h=a.firstChild;h;h=h.nextSibling)1==h.nodeType?g=!0:3==h.nodeType&&h.nodeValue.match(/[^ \f\n\r\t\v]/)?d++:4==h.nodeType&&f++;if(g)if(2>d&&2>f){e.removeWhite(a);for(var h=a.firstChild;h;h=h.nextSibling)3==h.nodeType?b["#text"]=e.escape(h.nodeValue):4==h.nodeType?b["#cdata"]=e.escape(h.nodeValue):b[h.nodeName]?b[h.nodeName]instanceof Array?b[h.nodeName][b[h.nodeName].length]=e.toObj(h):b[h.nodeName]=[b[h.nodeName],e.toObj(h)]:b[h.nodeName]=e.toObj(h)}else a.attributes.length?b["#text"]=e.escape(e.innerXml(a)):b=e.escape(e.innerXml(a));else if(d)a.attributes.length?b["#text"]=e.escape(e.innerXml(a)):b=e.escape(e.innerXml(a));else if(f)if(f>1)b=e.escape(e.innerXml(a));else for(var h=a.firstChild;h;h=h.nextSibling)b["#cdata"]=e.escape(h.nodeValue)}a.attributes.length||a.firstChild||(b=null)}else 9==a.nodeType?b=e.toObj(a.documentElement):alert("unhandled node type: "+a.nodeType);return b},toJson:function(a,b,c){var d=b?'"'+b+'"':"";if(a instanceof Array){for(var f=0,g=a.length;g>f;f++)a[f]=e.toJson(a[f],"",c+"	");d+=(b?":[":"[")+(a.length>1?"\n"+c+"	"+a.join(",\n"+c+"	")+"\n"+c:a.join(""))+"]"}else if(null==a)d+=(b&&":")+"null";else if("object"==typeof a){var h=[];for(var i in a)h[h.length]=e.toJson(a[i],i,c+"	");d+=(b?":{":"{")+(h.length>1?"\n"+c+"	"+h.join(",\n"+c+"	")+"\n"+c:h.join(""))+"}"}else d+="string"==typeof a?(b&&":")+'"'+a.toString()+'"':(b&&":")+a.toString();return d},innerXml:function(a){var b="";if("innerHTML"in a)b=a.innerHTML;else for(var c=function(a){var b="";if(1==a.nodeType){b+="<"+a.nodeName;for(var d=0;d<a.attributes.length;d++)b+=" "+a.attributes[d].nodeName+'="'+(a.attributes[d].nodeValue||"").toString()+'"';if(a.firstChild){b+=">";for(var e=a.firstChild;e;e=e.nextSibling)b+=c(e);b+="</"+a.nodeName+">"}else b+="/>"}else 3==a.nodeType?b+=a.nodeValue:4==a.nodeType&&(b+="<![CDATA["+a.nodeValue+"]]>");return b},d=a.firstChild;d;d=d.nextSibling)b+=c(d);return b},escape:function(a){return a.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(a){a.normalize();for(var b=a.firstChild;b;)if(3==b.nodeType)if(b.nodeValue.match(/[^ \f\n\r\t\v]/))b=b.nextSibling;else{var c=b.nextSibling;a.removeChild(b),b=c}else 1==b.nodeType?(e.removeWhite(b),b=b.nextSibling):b=b.nextSibling;return a}};if(9==a.nodeType&&(a=a.documentElement),b)return e.removeWhite(a);var f=e.toJson(e.toObj(e.removeWhite(a)),a.nodeName,"	");return"{\n"+c+(c?f.replace(/\t/g,c):f.replace(/\t|\n/g,""))+"\n}"}function json2xml(a,b){var c=function(a,b,d){var e="";if(a instanceof Array)for(var f=0,g=a.length;g>f;f++)e+=d+c(a[f],b,d+"	")+"\n";else if("object"==typeof a){var h=!1;e+=d+"<"+b;for(var i in a)"@"==i.charAt(0)?e+=" "+i.substr(1)+'="'+a[i].toString()+'"':h=!0;if(e+=h?">":"/>",h){for(var i in a)"#text"==i?e+=a[i]:"#cdata"==i?e+="<![CDATA["+a[i]+"]]>":"@"!=i.charAt(0)&&(e+=c(a[i],i,d+"	"));e+=("\n"==e.charAt(e.length-1)?d:"")+"</"+b+">"}}else e+=d+"<"+b+">"+a.toString()+"</"+b+">";return e},d="";for(var e in a)d+=c(a[e],e,"");return b?d.replace(/\t/g,b):d.replace(/\t|\n/g,"")}